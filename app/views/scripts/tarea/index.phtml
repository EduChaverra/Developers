<head>
    <title>Lista de Tareas</title>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4">
        <div class="bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4">To Do</h2>
            <div class="mb-4">
                <button class="bg-green-500 text-white px-4 py-2 rounded" onclick="window.location.href='<?php echo WEB_ROOT?>/create'">+ Crear Nueva Tarea</button>
            </div>
            <!--<ul class="divide-y divide-gray-200">-->
                <!-- Ejemplo de tarea -->
                <!--<li class="py-4 flex justify-between items-center">-->
                    <!--<div>
                        <h3 class="text-lg font-bold">Nombre de la tarea</h3>
                        <p>Descripción de la tarea</p>
                    </div>-->
                  <div class="flex space-x-8">
                    <?php
                      if(count($this->tareas) > 0) :
                    ?>
                      <div class="w-1/3">
                        <h2 class="text-lg font-bold py-2">Pendiente</h2>
                        <?php
                          if(count($this->tareasPendiente) > 0) :
                            foreach($this->tareasPendiente as $tarea)
                            {
                                include('showTarea.phtml');
                            }
                        ?>
                        <?php else : ?>
                          <h3 class='text-lg'>No hay tareas pendientes</h3><br>
                        <?php endif;?>
                      </div>
                      <div class="w-1/3">
                        <h2 class="text-lg font-bold py-2">En progreso</h2>
                        <?php
                          if(count($this->tareasEnProgreso) > 0) :
                            foreach($this->tareasEnProgreso as $tarea)
                            {
                                include('showTarea.phtml');
                            }
                                
                        ?>
                        <?php else : ?>
                          <h3 class='text-lg'>No hay tareas en progreso</h3><br>
                        <?php endif;?>
                      </div>
                      <div class="w-1/3">
                        <h2 class="text-lg font-bold py-2">Completado</h2>
                        <?php
                          if(count($this->tareasCompletado) > 0) :
                            foreach($this->tareasCompletado as $tarea)
                            {
                                include('showTarea.phtml');
                            }
                        ?>
                        <?php else : ?>
                          <h3 class='text-lg'>No hay tareas completadas</h3><br>
                        <?php endif;?>
                      </div>
                      
                    <?php endif;?>
                </div>

                    <!--</div>
                </li>
                 Más tareas aquí 
            </ul>-->
        </div>
    </div>

    <script>
        async function confirmDelete(id) {
            if (confirm('¿Estás seguro que quieres eliminar esta tarea?')) {
              const formData = new FormData();
              formData.append("id", id);
              await fetch("delete/"+id, {
                  method: "POST",
                  body: formData,
              });
              window.location.reload()
            }
        }
    </script>
</body>
</html>